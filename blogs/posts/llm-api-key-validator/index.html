<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building an LLM API Key Validator: A Streamlit App for AI Developers</title>
    <link href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:wght@400;600;700&family=Source+Sans+Pro:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --text-color: #292929;
            --secondary-text: #757575;
            --background-color: #fff;
            --accent-color: #0284c7;
            --border-color: #e6e6e6;
            --code-background: #f5f5f5;
            --nav-background: #0284c7;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Source Serif Pro', serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            line-height: 1.3;
        }

        h2 {
            font-size: 1.8rem;
            margin: 40px 0 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        h3 {
            font-size: 1.4rem;
            margin: 30px 0 15px;
            color: var(--accent-color);
        }

        p {
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        img {
            max-width: 100%;
            height: auto;
            border-radius: 5px;
            margin: 20px 0;
        }

        .subtitle {
            font-family: 'Source Sans Pro', sans-serif;
            font-size: 1.2rem;
            color: var(--secondary-text);
            margin-bottom: 30px;
        }

        .author-info {
            font-family: 'Source Sans Pro', sans-serif;
            text-align: center;
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }

        .author-info p {
            margin-bottom: 5px;
            font-size: 1rem;
        }

        code {
            font-family: monospace;
            background-color: var(--code-background);
            padding: 2px 5px;
            border-radius: 3px;
            font-size: 0.9rem;
        }

        pre {
            background-color: var(--code-background);
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 20px 0;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        ul, ol {
            margin: 20px 0 20px 20px;
        }

        li {
            margin-bottom: 10px;
        }

        a {
            color: var(--accent-color);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        blockquote {
            border-left: 4px solid var(--accent-color);
            padding-left: 20px;
            margin: 20px 0;
            font-style: italic;
            color: var(--secondary-text);
        }

        .image-caption {
            text-align: center;
            font-size: 0.9rem;
            color: var(--secondary-text);
            margin-top: -15px;
            margin-bottom: 30px;
        }

        .nav-bar {
            background-color: var(--nav-background);
            color: white;
            padding: 10px 20px;
            position: sticky;
            top: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            margin: -20px -20px 20px -20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .nav-bar a {
            color: white;
            text-decoration: none;
            font-family: 'Source Sans Pro', sans-serif;
            font-weight: 600;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }

        .nav-bar a:hover {
            background-color: rgba(255,255,255,0.2);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 15px;
        }

        @media (max-width: 768px) {
            body {
                padding: 15px;
            }

            h1 {
                font-size: 2rem;
            }

            h2 {
                font-size: 1.5rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            p {
                font-size: 1rem;
            }

            .nav-bar {
                flex-direction: column;
                gap: 10px;
                padding: 15px;
            }
        }
    </style>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXYSSSTTMB"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-WXYSSSTTMB');
    </script>
</head>
<body>
    <div class="nav-bar">
        <div class="site-title">Meet Shah's Blog</div>
        <div class="nav-links">
            <a href="../../">Blog Home</a>
            <a href="https://shahmeetk.github.io/">Portfolio</a>
            <a href="https://github.com/shahmeetk" target="_blank">GitHub</a>
        </div>
    </div>
    <header>
        <h1>Building an LLM API Key Validator: A Streamlit App for AI Developers</h1>
        <div class="subtitle">A comprehensive tool for validating and managing API keys across multiple AI providers</div>
    </header>

    <main>
        <div style="background-color: #e0f2fe; padding: 30px; text-align: center; border-radius: 8px; margin-bottom: 20px;">
            <h3 style="margin-top: 0; color: #0284c7;">Project Overview</h3>
            <p>An open-source Streamlit application that validates API keys for various LLM providers and displays quota/usage information in a user-friendly dashboard.</p>
            <a href="https://github.com/shahmeetk/AI-provider-Key-Validator" target="_blank" class="btn" style="display: inline-block; background-color: #0284c7; color: white; padding: 10px 20px; border-radius: 5px; text-decoration: none; margin-top: 10px;">View on GitHub</a>
        </div>

        <p>As AI development becomes increasingly multi-provider, managing API keys across different platforms has become a significant challenge. Whether you're working with OpenAI, Anthropic, Groq, or any of the dozens of other LLM providers, each has its own authentication system, quota limits, and usage tracking.</p>

        <p>To solve this problem, I built the <a href="https://github.com/shahmeetk/AI-provider-Key-Validator" target="_blank">LLM API Key Validator</a> - a comprehensive Streamlit application that allows developers to validate API keys across multiple providers and view their quota/usage information in a unified dashboard.</p>

        <h2>The Challenge of Managing Multiple LLM API Keys</h2>

        <p>AI developers today face several challenges when working with multiple LLM providers:</p>

        <ul>
            <li><strong>Validity verification:</strong> Determining if an API key is still valid without making a full API call</li>
            <li><strong>Quota monitoring:</strong> Tracking remaining credits and usage across different platforms</li>
            <li><strong>Model availability:</strong> Identifying which models are accessible with a given API key</li>
            <li><strong>Rate limits:</strong> Understanding the rate limits associated with each key</li>
            <li><strong>Bulk validation:</strong> Testing multiple keys efficiently during migration or auditing</li>
        </ul>

        <p>These challenges are compounded when working in teams where keys may be shared or when managing multiple projects with different API requirements.</p>

        <h2>Solution Architecture</h2>

        <p>The LLM API Key Validator follows a modular architecture that separates concerns and makes the codebase maintainable and extensible.</p>

        <img src="https://raw.githubusercontent.com/shahmeetk/AI-provider-Key-Validator/main/images/Architecture.png" alt="Architecture Diagram">
        <div class="image-caption">Architecture diagram showing the layered design of the application</div>

        <p>The application is structured into several key components:</p>

        <ol>
            <li><strong>UI Layer:</strong> Streamlit-based interface with separate pages for single key validation, bulk validation, history, and provider information</li>
            <li><strong>Core Layer:</strong> Base classes for API keys and validators that define the core functionality</li>
            <li><strong>Validators Layer:</strong> Provider-specific validators that implement the validation logic for each LLM provider</li>
            <li><strong>Utils Layer:</strong> Utility functions for provider detection, storage, and logging</li>
            <li><strong>Data Layer:</strong> JSON files for storing provider information and validation history</li>
        </ol>

        <h2>Key Features</h2>

        <h3>1. Multi-Provider Support</h3>

        <p>The application supports a wide range of LLM providers, including:</p>

        <ul>
            <li>OpenAI (GPT models)</li>
            <li>Anthropic (Claude models)</li>
            <li>Groq</li>
            <li>Mistral AI</li>
            <li>Cohere</li>
            <li>Google (Gemini models)</li>
            <li>OpenRouter</li>
            <li>Together AI</li>
            <li>Perplexity</li>
            <li>And many more...</li>
        </ul>

        <p>Each provider has a dedicated validator that understands the specific API endpoints and response formats.</p>

        <h3>2. Automatic Provider Detection</h3>

        <p>One of the most powerful features is the automatic detection of the provider based on the API key format. This means users don't need to specify which provider they're validating - the application figures it out automatically.</p>

        <img src="https://raw.githubusercontent.com/shahmeetk/AI-provider-Key-Validator/main/images/DataFlow.png" alt="API Validation Process">
        <div class="image-caption">The API validation process flow showing automatic provider detection</div>

        <h3>3. Comprehensive Validation Results</h3>

        <p>For each validated key, the application provides detailed information:</p>

        <ul>
            <li>Validity status</li>
            <li>Available models and their capabilities</li>
            <li>Usage statistics and remaining credits</li>
            <li>Rate limits and token limits</li>
            <li>Account tier information</li>
        </ul>

        <h3>4. Bulk Validation</h3>

        <p>For teams managing multiple keys, the bulk validation feature allows uploading a CSV file with multiple API keys and validating them all at once. The results can be downloaded as a CSV for further analysis or record-keeping.</p>

        <h3>5. Validation History</h3>

        <p>The application maintains a history of all validations, making it easy to track changes in key status over time. This is particularly useful for monitoring usage patterns and detecting when keys are approaching their limits.</p>

        <h2>Technical Implementation</h2>

        <h3>Modular Structure</h3>

        <p>The project follows a clean, modular structure that makes it easy to extend and maintain:</p>

        <img src="https://raw.githubusercontent.com/shahmeetk/AI-provider-Key-Validator/main/images/Modular%20Structure.png" alt="Modular Structure">
        <div class="image-caption">Modular structure showing the organization of the codebase</div>

        <h3>Asynchronous API Calls</h3>

        <p>To improve performance, especially during bulk validation, the application uses asynchronous API calls with <code>aiohttp</code>. This allows multiple validations to run concurrently, significantly reducing the total validation time.</p>

        <pre><code>async def validate(self, api_key: APIKey) -> APIKey:
    """
    Validate the API key against the provider's API.
    
    Args:
        api_key: The API key to validate
        
    Returns:
        The validated API key with updated information
    """
    if not isinstance(api_key, OpenAIKey):
        return api_key
    
    url = "https://api.openai.com/v1/models"
    headers = {
        "Authorization": f"Bearer {api_key.api_key}"
    }
    
    async with aiohttp.ClientSession() as session:
        try:
            async with session.get(url, headers=headers, timeout=10) as response:
                if response.status == 200:
                    # Key is valid, extract model information
                    api_key.is_valid = True
                    api_key.message = "Valid API key"
                    
                    # Parse models information
                    data = await response.json()
                    # Process model data...
                else:
                    # Key is invalid
                    api_key.is_valid = False
                    api_key.message = f"Invalid API key: {response.status} {response.reason}"
        except Exception as e:
            api_key.is_valid = False
            api_key.message = f"Error validating API key: {str(e)}"
    
    return api_key</code></pre>

        <h3>Factory Pattern for Validators</h3>

        <p>The application uses the factory pattern to create the appropriate validator for each provider. This makes it easy to add new providers without modifying existing code.</p>

        <pre><code>class ValidatorFactory:
    """Factory for creating validators for different providers."""
    
    @staticmethod
    def create_validator(provider: Provider) -> Validator:
        """
        Create a validator for the specified provider.
        
        Args:
            provider: The provider to create a validator for
            
        Returns:
            A validator for the specified provider
        """
        if provider == Provider.OPENAI:
            return OpenAIValidator()
        elif provider == Provider.ANTHROPIC:
            return AnthropicValidator()
        elif provider == Provider.MISTRAL:
            return MistralValidator()
        # Additional providers...
        else:
            raise ValueError(f"No validator available for provider: {provider}")</code></pre>

        <h2>Lessons Learned</h2>

        <p>Building this project provided several valuable insights:</p>

        <ol>
            <li><strong>API Inconsistency:</strong> Each provider has its own way of structuring APIs, response formats, and authentication methods. Creating a unified interface required careful abstraction.</li>
            <li><strong>Rate Limiting Challenges:</strong> When validating multiple keys, it's important to respect rate limits to avoid being temporarily blocked by providers.</li>
            <li><strong>Security Considerations:</strong> Handling API keys requires careful attention to security. The application never stores keys permanently unless explicitly requested by the user.</li>
            <li><strong>UI/UX Balance:</strong> Creating a technical tool that remains user-friendly required thoughtful UI design and clear presentation of complex information.</li>
        </ol>

        <h2>Future Enhancements</h2>

        <p>The LLM API Key Validator is an ongoing project with several planned enhancements:</p>

        <ul>
            <li>Support for additional LLM providers as they emerge</li>
            <li>Enhanced visualization of usage patterns over time</li>
            <li>Integration with cost estimation tools to predict spending</li>
            <li>API endpoint for programmatic validation from other applications</li>
            <li>Team collaboration features for shared key management</li>
        </ul>

        <h2>Conclusion</h2>

        <p>The LLM API Key Validator addresses a critical need in the AI development ecosystem by providing a unified interface for managing API keys across multiple providers. By automating validation and presenting quota information in a clear, consistent format, it helps developers focus on building AI applications rather than managing infrastructure.</p>

        <p>The project is open-source and available on <a href="https://github.com/shahmeetk/AI-provider-Key-Validator" target="_blank">GitHub</a>. Contributions are welcome, whether in the form of new provider validators, feature enhancements, or documentation improvements.</p>

        <p>As the AI landscape continues to evolve with new providers and models, tools like this will become increasingly important for developers working at the cutting edge of AI technology.</p>
    </main>

    <div class="author-info">
        <p><strong>Meet Shah</strong></p>
        <p>Cloud & AI Practice Lead</p>
        <p>April 24, 2024</p>
        <p><a href="https://github.com/shahmeetk" target="_blank">GitHub</a> | <a href="https://www.linkedin.com/in/meetshah10290/" target="_blank">LinkedIn</a></p>
    </div>
</body>
</html>
